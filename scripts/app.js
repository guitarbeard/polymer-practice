!function(e){"use strict";function o(e,o){return Math.floor(Math.random()*(o-e+1)+e)}function t(){var e=n.splice(o(0,n.length-1),1);return e[0]}var a=e.querySelector("#app");a.baseUrl="/",""===window.location.port&&(a.baseUrl="/polymer-practice/"),a.displayInstalledToast=function(){Polymer.dom(e).querySelector("platinum-sw-cache").disabled||Polymer.dom(e).querySelector("#caching-complete").show()},a.searches=[];var n=["#7BB5E1","#8379A7","#2B9A77","#C758A5","#EDBA32","#8F6456","#D25441","#73215F","#0065BA"];a.setMap=function(){var o=e.getElementById("mapSearchInput");window.google.maps.event.clearInstanceListeners(o),o.setAttribute("placeholder","Search..."),o.value="",o.focus();var r={bounds:new window.google.maps.Circle({center:a.userLocation[0],radius:30}).getBounds()},l=new window.google.maps.places.SearchBox(o,r);l.addListener("places_changed",function(){function e(e){var o=a.searches;o.splice(o.indexOf(e),1),a.searches=[],a.searches=o,n.push(i)}var r=l.getPlaces();if(0===r.length)return a.$.toast.text="no results found",a.$.toast.show(),!1;var i=t(),c={path:"M19.39,1.562c-2.505-1.238-5.94-0.477-8.377,1.643C8.576,1.085,5.141,0.323,2.636,1.562C-0.357,3.039-0.88,6.782,1.474,9.924l1.962,2.065l0.402,0.425l7.174,7.56l7.174-7.56l0.402-0.425l1.963-2.065 C22.906,6.782,22.383,3.039,19.39,1.562z",fillColor:i,strokeColor:"#fff",fillOpacity:1,strokeOpacity:.5,anchor:new window.google.maps.Point(11,11)},s=r.map(function(e){var o=new window.google.maps.Marker({title:e.name,position:e.geometry.location,icon:c,animation:window.google.maps.Animation.DROP});return e.marker=o,e.latitude=e.geometry.location.lat(),e.longitude=e.geometry.location.lng(),e}),u={handleRemove:e,searchTerm:o.value,results:s,color:i};a.searches=a.searches.concat(u),o.value="",n.length||(o.disabled=!0)})},a.setLocationSearchbox=function(){var o=e.querySelector("google-map"),t=e.getElementById("mapSearchInput");window.google.maps.event.clearInstanceListeners(t),t.setAttribute("placeholder","Set location..."),t.setAttribute("style",""),t.value="",t.focus(),a.userLocation=[];var n=new window.google.maps.places.SearchBox(t);n.addListener("places_changed",function(){var e=n.getPlaces();if(0===e.length)return a.$.toast.text="no results found",void a.$.toast.show();var t=e[0].geometry.location;o.latitude=t.lat(),o.longitude=t.lng(),a.userLocation=[{lat:o.latitude,lng:o.longitude}],a.setMap()})},a.centerMap=function(){var o=e.querySelector("google-map"),t=a.userLocation[0];o.latitude=t.lat,o.longitude=t.lng,o.zoom=15},a.addEventListener("dom-change",function(){var o=e.querySelector("#paperDrawerPanel");o.forceNarrow=!0,(window.innerWidth>600||e.body.clientWidth>600)&&o.openDrawer();var t=e.querySelector("google-map");t.singleInfoWindow=!0,t.fitToMarkers=!0,t.addEventListener("google-map-ready",function(){t.clickEvents=!0,t.additionalMapOptions={mapTypeControl:!1},navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};t.latitude=o.lat,t.longitude=o.lng,a.userLocation=[o],a.setMap()},function(){a.setLocationSearchbox()}):a.setLocationSearchbox()})})}(document);